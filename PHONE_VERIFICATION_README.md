# ุณุณุชู ุชุฃุฏ ุดูุงุฑู ุชููู ุจุง ุฑุจุงุช ุจูู

## ๐ ุฎูุงุตู

ุงู ุณุณุชู ุงูฺฉุงู ุชุฃุฏ ุดูุงุฑู ุชููู ฺฉุงุฑุจุฑุงู ุงุฒ ุทุฑู ุงุฑุณุงู ฺฉุฏ 4 ุฑูู ุจุง ุฑุจุงุช ุจูู ุฑุง ูุฑุงูู ูโฺฉูุฏ.

## ๐ง ูฺฺฏโูุง ุงุถุงูู ุดุฏู

### 1. ุณุณุชู ุชุฃุฏ ุดูุงุฑู ุชููู
- ุชููุฏ ฺฉุฏ ุชุฃุฏ 4 ุฑูู ุชุตุงุฏู
- ุงุฑุณุงู ฺฉุฏ ุงุฒ ุทุฑู ุฑุจุงุช ุจูู (ุฎุตูุต ุง ุจู ูุฏุฑ)
- ูููุช ุฒูุงู 10 ุฏููู ุจุฑุง ฺฉุฏ
- ุญุฏุงฺฉุซุฑ 3 ุชูุงุด ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ฺฉุฏ
- ุฐุฎุฑู ูููุช ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ุชุง ุชุฃุฏ

### 2. API ูุง ุฌุฏุฏ
- `POST /api/send-verification` - ุงุฑุณุงู ฺฉุฏ ุชุฃุฏ
- `POST /api/verify-and-register` - ุชุฃุฏ ฺฉุฏ ู ุซุจุชโูุงู ููุง

### 3. ุฑุงุจุท ฺฉุงุฑุจุฑ ุจูุจูุฏ ุงูุชู
- ูุฑุญูู ุณูู ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ฺฉุฏ ุชุฃุฏ
- ููุงุด ูพุดุฑูุช 3 ูุฑุญููโุง
- ูุฑูุฏ ฺฉุฏ ุจุง ูุฑูุช ููุงุณุจ
- ูพุงูโูุง ุฑุงูููุง ู ุฎุทุง

## ๐ ูุงูโูุง ุฌุฏุฏ/ุชุบุฑ ุงูุชู

```
robot/
โโโ data/
โ   โโโ verification_codes.json  # ุฐุฎุฑู ฺฉุฏูุง ุชุฃุฏ ูููุช
โ   โโโ workshops.json           # ฺฉุงุฑฺฏุงูโูุง ููููู
โโโ gateway_bale.js             # API ูุง ุฌุฏุฏ
src/
โโโ lib/
โ   โโโ gateway.js              # ุชูุงุจุน ูุฑุงุฎูุงู API
โโโ pages/
    โโโ Register.jsx            # ุตูุญู ุซุจุชโูุงู ุจูุจูุฏ ุงูุชู
test-verification.html          # ูุงู ุชุณุช ูุณุชูู
```

## ๐ ูุญูู ุงุณุชูุงุฏู

### 1. ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ
```bash
cd robot
npm start
# ุง
node gateway_bale.js
```

### 2. ุฑุงูโุงูุฏุงุฒ React App
```bash
npm run dev
```

### 3. ุชุณุช ุจุง ูุงู HTML
ูุงู `test-verification.html` ุฑุง ุฏุฑ ูุฑูุฑฺฏุฑ ุจุงุฒ ฺฉูุฏ.

## ๐ฑ ูุฑุขูุฏ ฺฉุงุฑ

### ูุฑุญูู 1: ุงุทูุงุนุงุช ุดุฎุต
ฺฉุงุฑุจุฑ ูุงูุ ฺฉุฏ ูู (ุงุฎุชุงุฑ) ู ุดูุงุฑู ุชููู ุฑุง ูุงุฑุฏ ูโฺฉูุฏ.

### ูุฑุญูู 2: ุงูุชุฎุงุจ ฺฉุงุฑฺฏุงู
ฺฉุงุฑุจุฑ ฺฉุงุฑฺฏุงู ููุฑุฏ ูุธุฑ ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ.

### ูุฑุญูู 3: ุชุฃุฏ ุดูุงุฑู ุชููู
- ุณุณุชู ฺฉุฏ 4 ุฑูู ุชููุฏ ูโฺฉูุฏ
- ฺฉุฏ ุงุฒ ุทุฑู ุฑุจุงุช ุจูู ุงุฑุณุงู ูโุดูุฏ:
  - ุงุจุชุฏุง ุณุน ูโฺฉูุฏ ูุณุชููุงู ุจู ฺฉุงุฑุจุฑ ุงุฑุณุงู ฺฉูุฏ
  - ุงฺฏุฑ ูุงูููู ุจูุฏุ ุจู ูุฏุฑ ุงุฑุณุงู ูโฺฉูุฏ
- ฺฉุงุฑุจุฑ ฺฉุฏ ุฑุง ูุงุฑุฏ ูโฺฉูุฏ
- ูพุณ ุงุฒ ุชุฃุฏุ ุซุจุชโูุงู ฺฉุงูู ูโุดูุฏ

## ๐ ุงููุช

- ฺฉุฏูุง ุชุฃุฏ ุชุตุงุฏู 4 ุฑูู
- ุงููุถุง ุฎูุฏฺฉุงุฑ ูพุณ ุงุฒ 10 ุฏููู
- ูุญุฏูุฏุช 3 ุชูุงุด ุจุฑุง ูุฑ ฺฉุฏ
- ุญุฐู ฺฉุฏ ูพุณ ุงุฒ ุงุณุชูุงุฏู ูููู

## ๐ ุฐุฎุฑูโุณุงุฒ

### ูุงู verification_codes.json
```json
{
  "09123456789": {
    "code": "1234",
    "userData": {
      "firstName": "ุนู",
      "nationalId": "1234567890",
      "phone": "09123456789",
      "workshopId": "w_test_1"
    },
    "timestamp": 1640995200000,
    "attempts": 0,
    "verified": false
  }
}
```

### ูุงู registrations.json (ูพุณ ุงุฒ ุชุฃุฏ)
```json
[
  {
    "id": "r_1640995300000",
    "firstName": "ุนู",
    "nationalId": "1234567890",
    "phone": "09123456789",
    "workshopId": "w_test_1",
    "status": "verified",
    "ts": 1640995300000,
    "verifiedAt": 1640995300000
  }
]
```

## ๐ค ูพุงูโูุง ุฑุจุงุช

### ูพุงู ฺฉุฏ ุชุฃุฏ
```
๐ ฺฉุฏ ุชุฃุฏ ุดูุง: *1234*

๐ค ูุงู: ุนู
๐ฑ ุดูุงุฑู: 09123456789
๐ท๏ธ ฺฉุงุฑฺฏุงู: ฺฉุงุฑฺฏุงู ุขููุฒุด ูุฑุขู

โฐ ุงู ฺฉุฏ ุชุง 10 ุฏููู ูุนุชุจุฑ ุงุณุช.
๐ ูุทูุงู ุงู ฺฉุฏ ุฑุง ุฏุฑ ุณุงุช ูุงุฑุฏ ฺฉูุฏ.
```

### ูพุงู ุชุฃุฏ ุซุจุชโูุงู
```
โ ุซุจุชโูุงู ุชุฃุฏ ุดุฏู:
๐ค ูุงู: ุนู
๐ ููุจุงู: 09123456789
๐ท๏ธ ฺฉุงุฑฺฏุงู: ฺฉุงุฑฺฏุงู ุขููุฒุด ูุฑุขู
๐ ุดูุงุณู: r_1640995300000
โฐ ุฒูุงู: ฑดฐด/ฑฐ/ฑต ฑด:ณฐ
```

## ๐งช ุชุณุช

### ุชุณุช ุฏุณุช
1. ูุงู `test-verification.html` ุฑุง ุจุงุฒ ฺฉูุฏ
2. ุงุทูุงุนุงุช ููููู ุฑุง ูุงุฑุฏ ฺฉูุฏ
3. ฺฉุฏ ุชุฃุฏ ุฑุง ุงุฒ ุฑุจุงุช ุฏุฑุงูุช ฺฉูุฏ
4. ฺฉุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ ู ุซุจุชโูุงู ุฑุง ุชฺฉูู ฺฉูุฏ

### ุชุณุช API ุจุง curl
```bash
# ุงุฑุณุงู ฺฉุฏ ุชุฃุฏ
curl -X POST http://localhost:3000/api/send-verification \
  -H "Content-Type: application/json" \
  -d '{"firstName":"ุนู ุชุณุช","phone":"09123456789","workshopId":"w_test_1"}'

# ุชุฃุฏ ฺฉุฏ
curl -X POST http://localhost:3000/api/verify-and-register \
  -H "Content-Type: application/json" \
  -d '{"phone":"09123456789","verificationCode":"1234"}'
```

## โ๏ธ ูฺฉุงุช ููู

1. **ุชูุธู ุฑุจุงุช**: ูุทูุฆู ุดูุฏ BOT_TOKEN ุฏุฑ `robot/3config.js` ุชูุธู ุดุฏู ุงุณุช
2. **ุฏุณุชุฑุณ ฺฉุงุฑุจุฑุงู**: ุจุฑุง ุงุฑุณุงู ูุณุชููุ ฺฉุงุฑุจุฑุงู ุจุงุฏ ุงุจุชุฏุง ุจุง ุฑุจุงุช ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉุฑุฏู ุจุงุดูุฏ
3. **ูุฏุฑ ูพุดุชุจุงู**: ุงฺฏุฑ ุงุฑุณุงู ูุณุชูู ูุงูููู ุจุงุดุฏุ ฺฉุฏ ุจู ูุฏุฑ ุงุฑุณุงู ูโุดูุฏ
4. **ูพุงฺฉโุณุงุฒ**: ฺฉุฏูุง ูููุถ ุดุฏู ุฎูุฏฺฉุงุฑ ูพุงฺฉ ูโุดููุฏ

## ๐ง ุชูุธูุงุช ูุงุจู ุชุบุฑ

ุฏุฑ ูุงู `robot/gateway_bale.js`:
- ูููุช ุฒูุงู ฺฉุฏ: `10 * 60 * 1000` (10 ุฏููู)
- ุชุนุฏุงุฏ ุชูุงุดโูุง: `3`
- ID ูุฏุฑ: `ADMIN_ID`
- ID ฺฏุฑูู ฺฏุฒุงุฑุด: `REPORT_GROUP_ID`

