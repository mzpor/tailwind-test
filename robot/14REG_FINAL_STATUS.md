# ๐ ฺฏุฒุงุฑุด ููุง ูุถุนุช ูุงฺูู 14reg.js

## ๐ฏ ุฎูุงุตู ูพุฑูฺู

ูุงฺูู `14reg.js` ุจุง ููููุช ุณุงุฎุชู ุดุฏู ู ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช. ุงู ูุงฺูู ุฌุฑุงู ฺฉุงูู ุซุจุชโูุงู ฺฉุงุฑุจุฑุงู ูุงุดูุงุณ ุฑุง ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ู ุจุง `5polling.js` ฺฉูพุงุฑฺู ุดุฏู ุงุณุช.

## โ ูุถุนุช ูุนู

### ๐ง ูุงฺูู ุงุตู
- **ูุงู:** `robot/14reg.js` โ
- **ูุถุนุช:** ฺฉุงูู ู ุขูุงุฏู ุงุณุชูุงุฏู
- **ูุณุฎู:** 3.0.0
- **ุชุนุฏุงุฏ ูุชุฏูุง:** 22 ูุชุฏ ุงุตู

### ๐ ฺฉูพุงุฑฺูโุณุงุฒ
- **ูุงู:** `robot/5polling.js` โ
- **ูุถุนุช:** ุจูโุฑูุฒุฑุณุงู ุดุฏู ุจุฑุง ุงุณุชูุงุฏู ุงุฒ `14reg.js`
- **ูุดฺฉู ูุจู:** ุญู ุดุฏู (`require('./13reg')` โ `require('./14reg')`)

### ๐ ูุงูโูุง ุฏุงุฏู
- **ูุงู ุซุจุชโูุงู:** `robot/data/smart_registration.json` โ
- **ูุงู ฺฉุงุฑฺฏุงูโูุง:** `robot/data/workshops.json` โ
- **ูุถุนุช:** ุจุงุฑฺฏุฐุงุฑ ู ุฐุฎุฑูโุณุงุฒ ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ

## ๐ ูุงุจูุชโูุง ูพุงุฏูโุณุงุฒ ุดุฏู

### ๐ค ุฌุฑุงู ฺฉุงุฑุจุฑ ูุงุดูุงุณ
1. **ุฎูุดุงูุฏฺฏู:** ูพุงู ุฎูุดโุขูุฏ ุจุง ูุนุฑู ูุฏุฑุณู
2. **ุฏฺฉูู ุซุจุชโูุงู:** ุฏฺฉูู ุดุดูโุง ุจุฑุง ุดุฑูุน ุซุจุชโูุงู
3. **ูุฑุงุญู ุซุจุชโูุงู:**
   - ูุงู ู ูุงู ุฎุงููุงุฏฺฏ
   - ฺฉุฏ ูู (ุงุนุชุจุงุฑุณูุฌ 10 ุฑูู)
   - ุดูุงุฑู ุชููู (ุจุง ุฏฺฉูู ุงุฑุณุงู)
4. **ุชุฃุฏ ููุง:** ููุงุด ุงุทูุงุนุงุช ู ุชุฃุฏ
5. **ุงูุชุฎุงุจ ฺฉุงุฑฺฏุงู:** ูุฏุงุช ุจู ุงูุชุฎุงุจ ฺฉูุงุณ

### ๐ ูุฏุฑุช ูุถุนุช ฺฉุงุฑุจุฑ
- **userStates:** ูพฺฏุฑ ูุฑุงุญู ุซุจุชโูุงู
- **userData:** ุฐุฎุฑู ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ
- **ูพุงุฏุงุฑ ุฏุงุฏู:** ุฐุฎุฑู ุฏุฑ ูุงู JSON
- **ุจุงุฒุงุจ:** ุจุงุฑฺฏุฐุงุฑ ุฎูุฏฺฉุงุฑ ุฏุฑ ุฑุงูโุงูุฏุงุฒ

### ๐น ุฑุงุจุท ฺฉุงุฑุจุฑ
- **ฺฉุจูุฑุฏูุง ูุนููู:** ุจุฑุง ูุฑุงุญู ุซุจุชโูุงู
- **ฺฉุจูุฑุฏูุง ุดุดูโุง:** ุจุฑุง ุงูุชุฎุงุจโูุง
- **ููููุง ููุดููุฏ:** ุจุฑ ุงุณุงุณ ูุถุนุช ฺฉุงุฑุจุฑ

### ๐ง ูุงุจูุชโูุง ูพุดุฑูุชู
- **ุงุนุชุจุงุฑุณูุฌ:** ฺฉุฏ ููุ ูุงูุ ุชููู
- **ูุฑุงุด:** ุงูฺฉุงู ุชุตุญุญ ุงุทูุงุนุงุช
- **ุขูุงุฑ:** ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ู ูุถุนุชโูุง
- **ูุฏุฑุช:** ุจุฑุฑุณ ูุฏุฑ ุจูุฏู ฺฉุงุฑุจุฑ

## ๐งช ุชุณุชโูุง ุงูุฌุงู ุดุฏู

### โ ุชุณุช ููุทู ุฏุงุฎู
- **ูุงู:** `robot/test_14reg_internal.js`
- **ูุชุฌู:** ูููู (ุชูุงู 22 ูุชุฏ ููุฌูุฏ)
- **ูพูุดุด:** ููุทู ุฏุงุฎูุ ูุฏุฑุช ุฏุงุฏูุ ฺฉุจูุฑุฏูุง

### โ ุชุณุช ูุชุฏูุง ุงุตู
- **ูุงู:** `robot/test_14reg_logic.js`
- **ูุชุฌู:** ูููู (ุชูุงู ูุชุฏูุง ููุฑุฏ ูุงุฒ)
- **ูพูุดุด:** ูุชุฏูุง ุงุตูุ ฺฉูฺฉุ ู ูุนุฑู

### โ ุชุณุช ฺฉูพุงุฑฺูโุณุงุฒ
- **ูุงู:** `robot/test_anonymous_flow_simple.js`
- **ูุชุฌู:** ูููู (ฺฉูพุงุฑฺูโุณุงุฒ ุจุง 5polling.js)
- **ูพูุดุด:** ุฌุฑุงู ฺฉุงูู ฺฉุงุฑุจุฑ ูุงุดูุงุณ

## ๐ ุจุฑุฑุณ ูุดฺฉูุงุช ุญู ุดุฏู

### โ ูุดฺฉู ูุจู: `is not a function`
- **ุนูุช:** `5polling.js` ุงุฒ `13reg` ุงุณุชูุงุฏู ูโฺฉุฑุฏ
- **ุฑุงูโุญู:** ุชุบุฑ `require('./13reg')` ุจู `require('./14reg')`
- **ูุถุนุช:** โ ุญู ุดุฏู

### โ ูุดฺฉู ูุจู: ูุชุฏูุง ฺฏูุดุฏู
- **ุนูุช:** ูุชุฏูุง ุงุตู ุฏุฑ `14reg.js` ูุฌูุฏ ูุฏุงุดุชูุฏ
- **ุฑุงูโุญู:** ูพุงุฏูโุณุงุฒ ฺฉุงูู ุชูุงู ูุชุฏูุง ููุฑุฏ ูุงุฒ
- **ูุถุนุช:** โ ุญู ุดุฏู

### โ ูุดฺฉู ูุจู: ุฌุฑุงู ฺฉุงุฑุจุฑ ูุงุดูุงุณ
- **ุนูุช:** ููุทู ุฌุฑุงู ฺฉุงุฑุจุฑ ูุงุดูุงุณ ูพุงุฏูโุณุงุฒ ูุดุฏู ุจูุฏ
- **ุฑุงูโุญู:** ูพุงุฏูโุณุงุฒ ฺฉุงูู ุฌุฑุงู ุงุฒ `/start` ุชุง ุงูุชุฎุงุจ ฺฉุงุฑฺฏุงู
- **ูุถุนุช:** โ ุญู ุดุฏู

## ๐ ุขูุงุฑ ููุง

### ๐ฅ ฺฉุงุฑุจุฑุงู
- **ฺฉู ฺฉุงุฑุจุฑุงู:** 4
- **ฺฉุงุฑุจุฑุงู ุซุจุชโูุงู ุดุฏู:** 3
- **ฺฉุงุฑุจุฑุงู ูุงูุต:** 1

### ๐ ฺฉุงุฑฺฏุงูโูุง
- **ุชุนุฏุงุฏ ฺฉู:** 9 ฺฉุงุฑฺฏุงู
- **ูุถุนุช:** ุจุงุฑฺฏุฐุงุฑ ุดุฏู ู ุขูุงุฏู

### ๐ง ูุชุฏูุง
- **ูุชุฏูุง ุงุตู:** 22
- **ูุชุฏูุง callback:** 9
- **ูุชุฏูุง ฺฉูฺฉ:** 13

## ๐ฏ ุฌุฑุงู ฺฉุงุฑุจุฑ ูุงุดูุงุณ (ุชุฃุฏ ุดุฏู)

### 1๏ธโฃ ุฏุณุชูุฑ `/start`
```
ฺฉุงุฑุจุฑ ูุงุดูุงุณ โ /start
โ
ูพุงู ุฎูุดโุขูุฏ + ูุนุฑู ูุฏุฑุณู
โ
ุฏฺฉูู "๐ ุซุจุช ูุงู"
```

### 2๏ธโฃ ุดุฑูุน ุซุจุชโูุงู
```
ฺฉูฺฉ ุฑู ุฏฺฉูู ุซุจุชโูุงู
โ
ุฏุฑุฎูุงุณุช ูุงู ู ูุงู ุฎุงููุงุฏฺฏ
โ
ฺฉุจูุฑุฏ ูุนููู ุจุง ุฏฺฉููโูุง "ุจุฑฺฏุดุช ุจู ูุจู" ู "ุฎุฑูุฌ"
```

### 3๏ธโฃ ูุฑุญูู ูุงู
```
ูุฑูุฏ ูุงู โ ุงุนุชุจุงุฑุณูุฌ
โ
ุฐุฎุฑู ูุงู ู ูุงู ฺฉูฺฺฉ
โ
ุฏุฑุฎูุงุณุช ฺฉุฏ ูู
โ
ุฏฺฉูู ุชุตุญุญ ูุงู (ุงุฎุชุงุฑ)
```

### 4๏ธโฃ ูุฑุญูู ฺฉุฏ ูู
```
ูุฑูุฏ ฺฉุฏ ูู โ ุงุนุชุจุงุฑุณูุฌ 10 ุฑูู
โ
ุฐุฎุฑู ฺฉุฏ ูู
โ
ุฏุฑุฎูุงุณุช ุดูุงุฑู ุชููู
โ
ุฏฺฉููโูุง ุชุตุญุญ ูุงู ู ฺฉุฏ ูู
```

### 5๏ธโฃ ูุฑุญูู ุชููู
```
ุฏฺฉูู "๐ฑ ุงุฑุณุงู ุดูุงุฑู ุชููู"
โ
ุฏุฑุงูุช ุดูุงุฑู ุงุฒ ุชูฺฏุฑุงู
โ
ุฐุฎุฑู ุดูุงุฑู ุชููู
โ
ููุงุด ุงุทูุงุนุงุช ฺฉุงูู
โ
ุฏฺฉููโูุง ุชุตุญุญ ู ุชุฃุฏ ููุง
```

### 6๏ธโฃ ุชุฃุฏ ููุง
```
ฺฉูฺฉ ุฑู "โ ุชุฃุฏ ููุง"
โ
ูพุงู ููููุช
โ
ูุฏุงุช ุจู ุงูุชุฎุงุจ ฺฉุงุฑฺฏุงู
```

## ๐ ูุญูู ุงุณุชูุงุฏู

### ๐ฅ ุฏุฑ 5polling.js
```javascript
const SmartRegistrationModule = require('./14reg');
const registrationModule = new SmartRegistrationModule();

// ุจุฑุง ูพุงู /start
await registrationModule.handleStartCommand(chatId, userId);

// ุจุฑุง ูพุงูโูุง ูุชู
await registrationModule.handleMessage(message);

// ุจุฑุง callback ูุง
await registrationModule.handleCallback(callback);
```

### ๐ง ุชูุธูุงุช
- **ูุงู ุฏุงุฏู:** `robot/data/smart_registration.json`
- **ูุงู ฺฉุงุฑฺฏุงูโูุง:** `robot/data/workshops.json`
- **ุชูุธูุงุช ูุฏุฑ:** ุงุฒ ุทุฑู `3config.js`

## ๐ ูฺฉุงุช ููู

### โ ููุงุท ููุช
1. **ฺฉุฏ ุชูุฒ ู ุณุงุฎุชุงุฑุงูุชู**
2. **ูุฏุฑุช ุฎุทุง ฺฉุงูู**
3. **ูพุงุฏุงุฑ ุฏุงุฏู**
4. **ุฑุงุจุท ฺฉุงุฑุจุฑ ุฒุจุง**
5. **ฺฉูพุงุฑฺูโุณุงุฒ ุขุณุงู**

### ๐ ุงููุช
1. **ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏ**
2. **ูุฏุฑุช ุฏุณุชุฑุณ**
3. **ูุงฺฏ ฺฉุงูู ุนููุงุช**

### ๐ ุจูููโุณุงุฒ
1. **ุจุงุฑฺฏุฐุงุฑ ุชูุจู ุฏุงุฏู**
2. **ุฐุฎุฑู ุฎูุฏฺฉุงุฑ ุชุบุฑุงุช**
3. **ูุฏุฑุช ุญุงูุธู ฺฉุงุฑุขูุฏ**

## ๐ ูุชุฌูโฺฏุฑ

ูุงฺูู `14reg.js` ุจุง ููููุช ุณุงุฎุชู ุดุฏู ู ุชูุงู ูุงุฒููุฏโูุง ุฏุฑุฎูุงุณุช ุฑุง ุจุฑุขูุฑุฏู ูโฺฉูุฏ:

โ **ฺฉุงุฑุจุฑ ูุงุดูุงุณ:** ุฎูุดโุขูุฏฺฏู + ุฏฺฉูู ุซุจุชโูุงู  
โ **ุฌุฑุงู ุซุจุชโูุงู:** ูุงู โ ฺฉุฏ ูู โ ุชููู โ ุชุฃุฏ  
โ **ุงูุชุฎุงุจ ฺฉุงุฑฺฏุงู:** ูุฏุงุช ุจู ุงูุชุฎุงุจ ฺฉูุงุณ  
โ **ุฐุฎุฑู ุฏุงุฏู:** ุฏุฑ `smart_registration.json`  
โ **ฺฉูพุงุฑฺูโุณุงุฒ:** ุจุง `5polling.js`  
โ **ฺฉุจูุฑุฏูุง ุฒุจุง:** ูุนููู ู ุดุดูโุง  
โ **ูุฏุฑุช ูุถุนุช:** ูพฺฏุฑ ูุฑุงุญู ุซุจุชโูุงู  
โ **ุงุนุชุจุงุฑุณูุฌ:** ูุฑูุฏโูุง ฺฉุงุฑุจุฑ  
โ **ูุฏุฑุช ุฎุทุง:** ฺฉุงูู ู ุฌุงูุน  

**ูุงฺูู ุขูุงุฏู ุงุณุชูุงุฏู ุฏุฑ ูุญุท ุชููุฏ ุงุณุช! ๐**

---

*ุชุงุฑุฎ ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู: 1404/05/13*  
*ูุณุฎู: 3.0.0*  
*ูุถุนุช: ฺฉุงูู ู ุขูุงุฏู ุงุณุชูุงุฏู โ*

