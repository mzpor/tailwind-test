# ๐ฑ ุณุณุชู ูุฏุฑุช ููุดโูุง ุจุฑ ุงุณุงุณ ุดูุงุฑู ุชููู

## ๐ฏ ูุฏู
ุงู ุณุณุชู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ููุด ูุฑุจ ุฑุง ุจุฑุง ุดูุงุฑูโูุง ุชููู ูุฏุฑุช ูโฺฉูุฏ:
- ููุช ฺฉุงุฑฺฏุงู ุจุง ูุฑุจ ุงุถุงูู ูโุดูุฏุ ุดูุงุฑู ููุจุงู ูุฑุจ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุจู ูุณุช `COACH` ุงุถุงูู ูโุดูุฏ
- ููุช ฺฉุงุฑฺฏุงู ุญุฐู ูโุดูุฏุ ุดูุงุฑู ููุจุงู ูุฑุจ ุงุฒ ูุณุช `COACH` ุญุฐู ูโุดูุฏ
- ุณุณุชู ูโุชูุงูุฏ ุชุดุฎุต ุฏูุฏ ฺฉู ุขุง ุดูุงุฑู ููุจุงู ูุฑุจ ุงุณุช ุง ูู

## ๐ง ูุญูู ฺฉุงุฑ

### 1. **ุงุถุงูู ฺฉุฑุฏู ฺฉุงุฑฺฏุงู ุจุง ูุฑุจ**
```javascript
// ููุช ฺฉุงุฑฺฏุงู ุจุง ูุฑุจ ุงุถุงูู ูโุดูุฏ
const workshopData = {
  instructor_name: "ุนู ุงุญูุฏ",
  instructor_phone: "09123456789",
  cost: "500,000 ุชููุงู",
  link: "https://example.com"
};

// ุณุณุชู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ูุฑุจ ุฑุง ุจู ูุณุช COACH ุงุถุงูู ูโฺฉูุฏ
if (workshopData.instructor_phone && workshopData.instructor_phone.trim() !== '') {
  const result = addCoachByPhone(workshopData.instructor_phone, workshopData.instructor_name);
  // ูุฑุจ ุจู ูุณุช COACH ุงุถุงูู ูโุดูุฏ
}
```

### 2. **ุญุฐู ฺฉุงุฑฺฏุงู**
```javascript
// ููุช ฺฉุงุฑฺฏุงู ุญุฐู ูโุดูุฏ
const instructorPhone = this.workshops[workshopId].instructor_phone;

// ุญุฐู ฺฉุงุฑฺฏุงู
delete this.workshops[workshopId];

// ุณุณุชู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ูุฑุจ ุฑุง ุงุฒ ูุณุช COACH ุญุฐู ูโฺฉูุฏ
if (instructorPhone && instructorPhone.trim() !== '') {
  const result = removeCoachByPhone(instructorPhone);
  // ูุฑุจ ุงุฒ ูุณุช COACH ุญุฐู ูโุดูุฏ
}
```

### 3. **ุชุดุฎุต ููุด ูุฑุจ**
```javascript
// ุจุฑุฑุณ ุงูฺฉู ุขุง ุดูุงุฑู ุชููู ูุฑุจ ุงุณุช ุง ูู
const isCoach = isPhoneCoach(phoneNumber);

// ุฏุฑุงูุช ุงุทูุงุนุงุช ูุฑุจ
const coachInfo = getCoachByPhone(phoneNumber);
```

## ๐ ุชูุงุจุน ููุฌูุฏ

### ุฏุฑ `3config.js`:
- `addCoachByPhone(phoneNumber, instructorName)` - ุงุถุงูู ฺฉุฑุฏู ูุฑุจ
- `removeCoachByPhone(phoneNumber)` - ุญุฐู ูุฑุจ
- `isPhoneCoach(phoneNumber)` - ุจุฑุฑุณ ูุฑุจ ุจูุฏู
- `getCoachByPhone(phoneNumber)` - ุฏุฑุงูุช ุงุทูุงุนุงุช ูุฑุจ
- `getAllCoachesWithPhones()` - ุฏุฑุงูุช ุชูุงู ูุฑุจโูุง

### ุฏุฑ `6mid.js`:
- `isCoachByPhone(phoneNumber)` - ุจุฑุฑุณ ูุฑุจ ุจูุฏู (wrapper)
- `getCoachInfoByPhone(phoneNumber)` - ุฏุฑุงูุช ุงุทูุงุนุงุช ูุฑุจ (wrapper)

### ุฏุฑ `gateway_bale.js`:
- ุชุงุจุน `findUserIdByPhone` ุจูโุฑูุฒุฑุณุงู ุดุฏู ุชุง ูุฑุจโูุง ุฑุง ุชุดุฎุต ุฏูุฏ

## ๐งช ุชุณุช ุณุณุชู

### ุงุฌุฑุง ุชุณุช:
```bash
cd robot
node test_phone_coach_system.js
```

### ุชุณุช ุฏุณุช:
1. **ุงุถุงูู ฺฉุฑุฏู ฺฉุงุฑฺฏุงู**: ฺฉ ฺฉุงุฑฺฏุงู ุจุง ูุฑุจ ู ุดูุงุฑู ุชููู ุงุถุงูู ฺฉูุฏ
2. **ุจุฑุฑุณ ููุด**: ุจุง ููุงู ุดูุงุฑู ุชููู ูุงุฑุฏ ุฑุจุงุช ุดูุฏ
3. **ุญุฐู ฺฉุงุฑฺฏุงู**: ฺฉุงุฑฺฏุงู ุฑุง ุญุฐู ฺฉูุฏ
4. **ุจุฑุฑุณ ูุฌุฏุฏ**: ุฏูุจุงุฑู ุจุง ููุงู ุดูุงุฑู ุชููู ูุงุฑุฏ ุดูุฏ

## ๐ ุณุงุฎุชุงุฑ ุฏุงุฏู

### ูุฑุจ ุฌุฏุฏ:
```javascript
{
  id: "phone_1754794306126_zg8k77ae3",
  name: "ุนู ุงุญูุฏ",
  phone: "989123456789",
  type: "phone_based"
}
```

### ุฏุฑ `USERS`:
```javascript
{
  "phone_1754794306126_zg8k77ae3": {
    name: "ุนู ุงุญูุฏ",
    role: "COACH",
    phone: "989123456789"
  }
}
```

## ๐ ูุงฺฏโูุง

ุณุณุชู ูุงฺฏโูุง ฺฉุงูู ุจุฑุง ุชูุงู ุนููุงุช ุชููุฏ ูโฺฉูุฏ:

```
โ [CONFIG] Coach ุนู ุงุญูุฏ with phone 989123456789 added to COACH role
โ [KARGAH] Coach ุนู ุงุญูุฏ with phone 989123456789 added to COACH role
โ [GATEWAY] Phone 989123456789 is a COACH
```

## โ๏ธ ูฺฉุงุช ููู

1. **ูุฑูุงูโุณุงุฒ ุดูุงุฑู ุชููู**: ุณุณุชู ุดูุงุฑูโูุง ุชููู ุฑุง ูุฑูุงูโุณุงุฒ ูโฺฉูุฏ
2. **ุจุฑุฑุณ ุชฺฉุฑุงุฑ**: ููโุชูุงูุฏ ุฏู ูุฑุจ ุจุง ููุงู ุดูุงุฑู ุชููู ุฏุงุดุชู ุจุงุดุฏ
3. **ุญุฐู ุฎูุฏฺฉุงุฑ**: ููุช ฺฉุงุฑฺฏุงู ุญุฐู ูโุดูุฏุ ูุฑุจ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุญุฐู ูโุดูุฏ
4. **ุดูุงุณู ููุญุตุฑ ุจู ูุฑุฏ**: ูุฑ ูุฑุจ ุดูุงุณู ููุญุตุฑ ุจู ูุฑุฏ ุฏุฑุงูุช ูโฺฉูุฏ

## ๐ ูุฒุงุง

- **ุฎูุฏฺฉุงุฑ**: ูุงุฒ ุจู ุชูุธู ุฏุณุช ููุดโูุง ูุณุช
- **ููฺฏุงู**: ููุดโูุง ููุดู ุจุง ฺฉุงุฑฺฏุงูโูุง ููฺฏุงู ูุณุชูุฏ
- **ุงูู**: ููุท ูุฏุฑุงู ูโุชูุงููุฏ ฺฉุงุฑฺฏุงูโูุง ุฑุง ุงุถุงูู/ุญุฐู ฺฉููุฏ
- **ูุงุจู ุงุนุชูุงุฏ**: ุณุณุชู ุฎุทุงูุง ุฑุง ูุฏุฑุช ูโฺฉูุฏ

## ๐ ูุซุงู ฺฉุงูู

```javascript
// 1. ุงุถุงูู ฺฉุฑุฏู ฺฉุงุฑฺฏุงู
const workshop = {
  instructor_name: "ุณุงุฑุง ูุญูุฏ",
  instructor_phone: "09987654321",
  cost: "300,000 ุชููุงู"
};

// 2. ุณุณุชู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ูุฑุจ ุฑุง ุงุถุงูู ูโฺฉูุฏ
addCoachByPhone(workshop.instructor_phone, workshop.instructor_name);

// 3. ุจุฑุฑุณ ููุด
const isCoach = isPhoneCoach("09987654321"); // true

// 4. ุญุฐู ฺฉุงุฑฺฏุงู
removeCoachByPhone("09987654321");

// 5. ุจุฑุฑุณ ูุฌุฏุฏ
const isCoachAfter = isPhoneCoach("09987654321"); // false
```

## ๐ ูุชุฌู

ุญุงูุง ุณุณุชู ุจู ุทูุฑ ฺฉุงูู ูโุชูุงูุฏ:
- ูุฑุจโูุง ุฑุง ุจุฑ ุงุณุงุณ ุดูุงุฑู ุชููู ูุฏุฑุช ฺฉูุฏ
- ููุดโูุง ุฑุง ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุงุถุงูู/ุญุฐู ฺฉูุฏ
- ุชุดุฎุต ุฏูุฏ ฺฉู ุขุง ุดูุงุฑู ุชููู ูุฑุจ ุงุณุช ุง ูู
- ุจุง ุณุณุชู ููุฌูุฏ ฺฉุงุฑฺฏุงูโูุง ููฺฏุงู ุจุงุดุฏ
